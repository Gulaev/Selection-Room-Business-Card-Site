<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>YouTube Channel Video List</title>
</head>
<body>
<h1>YouTube Channel Video List</h1>

<form onsubmit="getVideoList(); return false;">
  <label for="channelId">Channel ID:</label>
  <input type="text" id="channelId" required>
  <button type="submit">Get Video List</button>
</form>

<ul id="videoList"></ul>

<script>
  function getVideoList() {
    const channelId = document.getElementById('channelId').value;

    fetch('/videoList?channelId=' + channelId)
    .then(response => response.json())
    .then(videoList => {
      const ul = document.getElementById('videoList');

      // Clear existing list items
      while (ul.firstChild) {
        ul.removeChild(ul.firstChild);
      }

      // Add new list items
      for (const video of videoList) {
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.href = 'https://www.youtube.com/watch?v=' + video.videoId;
        a.textContent = video.title;
        li.appendChild(a);
        ul.appendChild(li);
      }
    })
    .catch(error => {
      console.error(error);
      alert('An error occurred while getting the video list.');
    });
  }
</script>
</body>
</html>
